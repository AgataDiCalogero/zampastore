@if (products$ | async; as products) { @if (products.length > 0) {
<section class="grid">
  @for (product of products; track product.id) {
  <p-card [header]="product.name">
    <ng-template pTemplate="content">
      @if (product.imageUrl) {
      <p-image
        [src]="product.imageUrl"
        [alt]="product.name"
        width="240"
      ></p-image>
      }
      <p>{{ product.priceCents / 100 | number: '1.2-2' }} â‚¬</p>
    </ng-template>

    <ng-template pTemplate="footer">
      <button
        pButton
        type="button"
        icon="pi pi-eye"
        [routerLink]="['/prodotti', product.id]"
      >
        Vedi dettaglio
      </button>
      <button
        pButton
        type="button"
        severity="secondary"
        icon="pi pi-shopping-cart"
        (click)="addToCart(product)"
      >
        Aggiungi al carrello
      </button>
    </ng-template>
  </p-card>
  }
</section>
} @else {
<p>Nessun prodotto disponibile.</p>
} } @else {
<p>Nessun prodotto disponibile.</p>
}
