<section class="home-hero section">
  <div class="hero-content">
    <span class="hero-eyebrow">ZampaStore</span>
    <h1>Benessere quotidiano per chi ami di più.</h1>
    <p class="hero-subtitle">
      Selezioniamo prodotti sicuri e curati per cani e gatti, con spedizioni
      rapide e assistenza dedicata.
    </p>
    <div class="hero-actions">
      <button
        pButton
        type="button"
        icon="pi pi-arrow-right"
        label="Vai al catalogo"
        [routerLink]="['/prodotti']"
      ></button>
      <button
        pButton
        type="button"
        class="p-button-secondary"
        icon="pi pi-shopping-cart"
        label="Vedi carrello"
        [routerLink]="['/carrello']"
      ></button>
    </div>
  </div>
  <div class="features-grid hero-values">
    <div class="feature-card">
      <div class="feature-icon">
        <i class="pi pi-verified"></i>
      </div>
      <div class="feature-text">
        <h3 class="feature-title">Selezione Curata</h3>
        <p class="feature-desc">Esperti veterinari</p>
      </div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">
        <i class="pi pi-star"></i>
      </div>
      <div class="feature-text">
        <h3 class="feature-title">Eccellenza Italiana</h3>
        <p class="feature-desc">Qualità certificata</p>
      </div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">
        <i class="pi pi-heart"></i>
      </div>
      <div class="feature-text">
        <h3 class="feature-title">Amore per loro</h3>
        <p class="feature-desc">Nutrizione sana</p>
      </div>
    </div>
  </div>
</section>

<section class="home-featured section">
  <div class="section-header">
    <div>
      <h2>Prodotti in evidenza</h2>
      <p class="text-muted">
        Il meglio del momento per i tuoi amici a quattro zampe.
      </p>
    </div>
    <a class="section-link" [routerLink]="['/prodotti']">Vedi tutto</a>
  </div>

  @if (featuredState(); as state) { @if (state.status === 'ready') { @defer (on
  viewport) {
  <div class="product-grid">
    @for (product of state.products; track product.id) {
    <app-product-card
      [product]="product"
      (addToCart)="addToCart($event)"
    ></app-product-card>
    }
  </div>
  } @placeholder {
  <div class="product-grid">
    @for (item of skeletonItems; track $index) {
    <div class="product-card-skeleton">
      <p-skeleton width="70%" height="22px"></p-skeleton>
      <p-skeleton height="180px"></p-skeleton>
      <p-skeleton width="35%" height="20px"></p-skeleton>
      <div class="product-card-actions">
        <p-skeleton width="120px" height="36px"></p-skeleton>
        <p-skeleton width="160px" height="36px"></p-skeleton>
      </div>
    </div>
    }
  </div>
  } } @else if (state.status === 'empty') {
  <div class="empty-state">
    <i class="pi pi-box"></i>
    <h3>Nessun prodotto disponibile</h3>
    <p>Stiamo aggiornando il catalogo. Torna presto.</p>
  </div>
  } @else if (state.status === 'error') {
  <div class="empty-state">
    <i class="pi pi-exclamation-triangle"></i>
    <h3>Errore nel caricamento</h3>
    <p>Riprova tra poco.</p>
  </div>
  } @else {
  <div class="product-grid">
    @for (item of skeletonItems; track $index) {
    <div class="product-card-skeleton">
      <p-skeleton width="70%" height="22px"></p-skeleton>
      <p-skeleton height="180px"></p-skeleton>
      <p-skeleton width="35%" height="20px"></p-skeleton>
      <div class="product-card-actions">
        <p-skeleton width="120px" height="36px"></p-skeleton>
        <p-skeleton width="160px" height="36px"></p-skeleton>
      </div>
    </div>
    }
  </div>
  } }
</section>

<section class="features-grid home-values section">
  <div class="feature-card">
    <div class="feature-icon">
      <i class="pi pi-truck"></i>
    </div>
    <div class="feature-text">
      <h3 class="feature-title">Spedizioni Rapide</h3>
      <p class="feature-desc">Consegna in 24/48h</p>
    </div>
  </div>
  <div class="feature-card">
    <div class="feature-icon">
      <i class="pi pi-replay"></i>
    </div>
    <div class="feature-text">
      <h3 class="feature-title">Reso Semplice</h3>
      <p class="feature-desc">30 giorni per decidere</p>
    </div>
  </div>
  <div class="feature-card">
    <div class="feature-icon">
      <i class="pi pi-lock"></i>
    </div>
    <div class="feature-text">
      <h3 class="feature-title">Pagamenti Sicuri</h3>
      <p class="feature-desc">Transazioni protette</p>
    </div>
  </div>
</section>
